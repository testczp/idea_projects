pipeline {
    agent any
    stages {
        stage('Build') {
            steps {
                echo 'begin to copy files.'
                sh 'cd /Users/Shared/Jenkins/Home/workspace/appiumdemo'
                sh 'cp MANIFEST.MF /Users/chenzepeng/Downloads/workplace'
                sh 'ls | egrep '.+[^M][^F]$' | xargs cp -r /Users/chenzepeng/Downloads/workplace/appiumdemo'
                sh 'cd /Users/chenzepeng/Downloads/workplace'
                echo 'complete copy.'
                echo 'begin progress command jar.'
                sh 'jar cvfm test.jar MANIFEST.MF -C appiumdemo/ .'
                echo 'end.'
            }
        }
    }
}